settings:
  factory_base_url: "https://factory.talos.dev"
  default_timeout_seconds: 600
  default_preserve: true
  github_releases_url: "https://api.github.com/repos/siderolabs/talos/releases/latest"

profiles:
  amd64-intel:
    description: "Intel GPU nodes"
    arch: amd64
    platform: metal
    secureboot: true
    extensions:
      - siderolabs/i915
      - siderolabs/iscsi-tools

  arm64-rpi:
    description: "Raspberry Pi workers"
    arch: arm64
    platform: metal
    secureboot: false
    overlay:
      name: rpi_generic
      image: siderolabs/sbc-raspberrypi
    extensions:
      - siderolabs/iscsi-tools

nodes:
  - ip: 192.168.1.101
    profile: arm64-rpi
    role: worker
  - ip: 192.168.1.102
    profile: arm64-rpi
    role: worker
  - ip: 192.168.1.201
    profile: amd64-intel
    role: controlplane
